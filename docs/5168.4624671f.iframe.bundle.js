"use strict";(self.webpackChunkreact_components_design_system=self.webpackChunkreact_components_design_system||[]).push([[5168],{"./node_modules/rc-slider/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UnstableContext:()=>UnstableContext,default:()=>rc_slider_es});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__("./node_modules/rc-util/es/index.js"),useMergedState=__webpack_require__("./node_modules/rc-util/es/hooks/useMergedState.js"),isEqual=__webpack_require__("./node_modules/rc-util/es/isEqual.js"),warning=__webpack_require__("./node_modules/rc-util/es/warning.js"),react=__webpack_require__("./node_modules/react/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js");function getOffset(value,min,max){return(value-min)/(max-min)}function getDirectionStyle(direction,value,min,max){var offset=getOffset(value,min,max),positionStyle={};switch(direction){case"rtl":positionStyle.right="".concat(100*offset,"%"),positionStyle.transform="translateX(50%)";break;case"btt":positionStyle.bottom="".concat(100*offset,"%"),positionStyle.transform="translateY(50%)";break;case"ttb":positionStyle.top="".concat(100*offset,"%"),positionStyle.transform="translateY(-50%)";break;default:positionStyle.left="".concat(100*offset,"%"),positionStyle.transform="translateX(-50%)"}return positionStyle}function getIndex(value,index){return Array.isArray(value)?value[index]:value}var KeyCode=__webpack_require__("./node_modules/rc-util/es/KeyCode.js");const es_context=react.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var UnstableContext=react.createContext({}),_excluded=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"];const Handles_Handle=react.forwardRef((function(props,ref){var _getIndex,prefixCls=props.prefixCls,value=props.value,valueIndex=props.valueIndex,onStartMove=props.onStartMove,onDelete=props.onDelete,style=props.style,render=props.render,dragging=props.dragging,draggingDelete=props.draggingDelete,onOffsetChange=props.onOffsetChange,onChangeComplete=props.onChangeComplete,onFocus=props.onFocus,onMouseEnter=props.onMouseEnter,restProps=(0,objectWithoutProperties.A)(props,_excluded),_React$useContext=react.useContext(es_context),min=_React$useContext.min,max=_React$useContext.max,direction=_React$useContext.direction,disabled=_React$useContext.disabled,keyboard=_React$useContext.keyboard,range=_React$useContext.range,tabIndex=_React$useContext.tabIndex,ariaLabelForHandle=_React$useContext.ariaLabelForHandle,ariaLabelledByForHandle=_React$useContext.ariaLabelledByForHandle,ariaValueTextFormatterForHandle=_React$useContext.ariaValueTextFormatterForHandle,styles=_React$useContext.styles,classNames=_React$useContext.classNames,handlePrefixCls="".concat(prefixCls,"-handle"),onInternalStartMove=function onInternalStartMove(e){disabled||onStartMove(e,valueIndex)},positionStyle=getDirectionStyle(direction,value,min,max),divProps={};null!==valueIndex&&(divProps={tabIndex:disabled?null:getIndex(tabIndex,valueIndex),role:"slider","aria-valuemin":min,"aria-valuemax":max,"aria-valuenow":value,"aria-disabled":disabled,"aria-label":getIndex(ariaLabelForHandle,valueIndex),"aria-labelledby":getIndex(ariaLabelledByForHandle,valueIndex),"aria-valuetext":null===(_getIndex=getIndex(ariaValueTextFormatterForHandle,valueIndex))||void 0===_getIndex?void 0:_getIndex(value),"aria-orientation":"ltr"===direction||"rtl"===direction?"horizontal":"vertical",onMouseDown:onInternalStartMove,onTouchStart:onInternalStartMove,onFocus:function onInternalFocus(e){null==onFocus||onFocus(e,valueIndex)},onMouseEnter:function onInternalMouseEnter(e){onMouseEnter(e,valueIndex)},onKeyDown:function onKeyDown(e){if(!disabled&&keyboard){var offset=null;switch(e.which||e.keyCode){case KeyCode.A.LEFT:offset="ltr"===direction||"btt"===direction?-1:1;break;case KeyCode.A.RIGHT:offset="ltr"===direction||"btt"===direction?1:-1;break;case KeyCode.A.UP:offset="ttb"!==direction?1:-1;break;case KeyCode.A.DOWN:offset="ttb"!==direction?-1:1;break;case KeyCode.A.HOME:offset="min";break;case KeyCode.A.END:offset="max";break;case KeyCode.A.PAGE_UP:offset=2;break;case KeyCode.A.PAGE_DOWN:offset=-2;break;case KeyCode.A.BACKSPACE:case KeyCode.A.DELETE:onDelete(valueIndex)}null!==offset&&(e.preventDefault(),onOffsetChange(offset,valueIndex))}},onKeyUp:function handleKeyUp(e){switch(e.which||e.keyCode){case KeyCode.A.LEFT:case KeyCode.A.RIGHT:case KeyCode.A.UP:case KeyCode.A.DOWN:case KeyCode.A.HOME:case KeyCode.A.END:case KeyCode.A.PAGE_UP:case KeyCode.A.PAGE_DOWN:null==onChangeComplete||onChangeComplete()}}});var handleNode=react.createElement("div",(0,esm_extends.A)({ref,className:classnames_default()(handlePrefixCls,(0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)({},"".concat(handlePrefixCls,"-").concat(valueIndex+1),null!==valueIndex&&range),"".concat(handlePrefixCls,"-dragging"),dragging),"".concat(handlePrefixCls,"-dragging-delete"),draggingDelete),classNames.handle),style:(0,objectSpread2.A)((0,objectSpread2.A)((0,objectSpread2.A)({},positionStyle),style),styles.handle)},divProps,restProps));return render&&(handleNode=render(handleNode,{index:valueIndex,prefixCls,value,dragging,draggingDelete})),handleNode}));var Handles_excluded=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"];const es_Handles=react.forwardRef((function(props,ref){var prefixCls=props.prefixCls,style=props.style,onStartMove=props.onStartMove,onOffsetChange=props.onOffsetChange,values=props.values,handleRender=props.handleRender,activeHandleRender=props.activeHandleRender,draggingIndex=props.draggingIndex,draggingDelete=props.draggingDelete,onFocus=props.onFocus,restProps=(0,objectWithoutProperties.A)(props,Handles_excluded),handlesRef=react.useRef({}),_React$useState=react.useState(!1),_React$useState2=(0,slicedToArray.A)(_React$useState,2),activeVisible=_React$useState2[0],setActiveVisible=_React$useState2[1],_React$useState3=react.useState(-1),_React$useState4=(0,slicedToArray.A)(_React$useState3,2),activeIndex=_React$useState4[0],setActiveIndex=_React$useState4[1],onActive=function onActive(index){setActiveIndex(index),setActiveVisible(!0)};react.useImperativeHandle(ref,(function(){return{focus:function focus(index){var _handlesRef$current$i;null===(_handlesRef$current$i=handlesRef.current[index])||void 0===_handlesRef$current$i||_handlesRef$current$i.focus()},hideHelp:function hideHelp(){(0,react_dom.flushSync)((function(){setActiveVisible(!1)}))}}}));var handleProps=(0,objectSpread2.A)({prefixCls,onStartMove,onOffsetChange,render:handleRender,onFocus:function onHandleFocus(e,index){onActive(index),null==onFocus||onFocus(e)},onMouseEnter:function onHandleMouseEnter(e,index){onActive(index)}},restProps);return react.createElement(react.Fragment,null,values.map((function(value,index){var dragging=draggingIndex===index;return react.createElement(Handles_Handle,(0,esm_extends.A)({ref:function ref(node){node?handlesRef.current[index]=node:delete handlesRef.current[index]},dragging,draggingDelete:dragging&&draggingDelete,style:getIndex(style,index),key:index,value,valueIndex:index},handleProps))})),activeHandleRender&&activeVisible&&react.createElement(Handles_Handle,(0,esm_extends.A)({key:"a11y"},handleProps,{value:values[activeIndex],valueIndex:null,dragging:-1!==draggingIndex,draggingDelete,render:activeHandleRender,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}));const Marks_Mark=function Mark(props){var prefixCls=props.prefixCls,style=props.style,children=props.children,value=props.value,_onClick=props.onClick,_React$useContext=react.useContext(es_context),min=_React$useContext.min,max=_React$useContext.max,direction=_React$useContext.direction,includedStart=_React$useContext.includedStart,includedEnd=_React$useContext.includedEnd,included=_React$useContext.included,textCls="".concat(prefixCls,"-text"),positionStyle=getDirectionStyle(direction,value,min,max);return react.createElement("span",{className:classnames_default()(textCls,(0,defineProperty.A)({},"".concat(textCls,"-active"),included&&includedStart<=value&&value<=includedEnd)),style:(0,objectSpread2.A)((0,objectSpread2.A)({},positionStyle),style),onMouseDown:function onMouseDown(e){e.stopPropagation()},onClick:function onClick(){_onClick(value)}},children)};const es_Marks=function Marks(props){var prefixCls=props.prefixCls,marks=props.marks,onClick=props.onClick,markPrefixCls="".concat(prefixCls,"-mark");return marks.length?react.createElement("div",{className:markPrefixCls},marks.map((function(_ref){var value=_ref.value,style=_ref.style,label=_ref.label;return react.createElement(Marks_Mark,{key:value,prefixCls:markPrefixCls,style,value,onClick},label)}))):null};const Steps_Dot=function Dot(props){var prefixCls=props.prefixCls,value=props.value,style=props.style,activeStyle=props.activeStyle,_React$useContext=react.useContext(es_context),min=_React$useContext.min,max=_React$useContext.max,direction=_React$useContext.direction,included=_React$useContext.included,includedStart=_React$useContext.includedStart,includedEnd=_React$useContext.includedEnd,dotClassName="".concat(prefixCls,"-dot"),active=included&&includedStart<=value&&value<=includedEnd,mergedStyle=(0,objectSpread2.A)((0,objectSpread2.A)({},getDirectionStyle(direction,value,min,max)),"function"==typeof style?style(value):style);return active&&(mergedStyle=(0,objectSpread2.A)((0,objectSpread2.A)({},mergedStyle),"function"==typeof activeStyle?activeStyle(value):activeStyle)),react.createElement("span",{className:classnames_default()(dotClassName,(0,defineProperty.A)({},"".concat(dotClassName,"-active"),active)),style:mergedStyle})};const es_Steps=function Steps(props){var prefixCls=props.prefixCls,marks=props.marks,dots=props.dots,style=props.style,activeStyle=props.activeStyle,_React$useContext=react.useContext(es_context),min=_React$useContext.min,max=_React$useContext.max,step=_React$useContext.step,stepDots=react.useMemo((function(){var dotSet=new Set;if(marks.forEach((function(mark){dotSet.add(mark.value)})),dots&&null!==step)for(var current=min;current<=max;)dotSet.add(current),current+=step;return Array.from(dotSet)}),[min,max,step,dots,marks]);return react.createElement("div",{className:"".concat(prefixCls,"-step")},stepDots.map((function(dotValue){return react.createElement(Steps_Dot,{prefixCls,key:dotValue,value:dotValue,style,activeStyle})})))};const Tracks_Track=function Track(props){var prefixCls=props.prefixCls,style=props.style,start=props.start,end=props.end,index=props.index,onStartMove=props.onStartMove,replaceCls=props.replaceCls,_React$useContext=react.useContext(es_context),direction=_React$useContext.direction,min=_React$useContext.min,max=_React$useContext.max,disabled=_React$useContext.disabled,range=_React$useContext.range,classNames=_React$useContext.classNames,trackPrefixCls="".concat(prefixCls,"-track"),offsetStart=getOffset(start,min,max),offsetEnd=getOffset(end,min,max),onInternalStartMove=function onInternalStartMove(e){!disabled&&onStartMove&&onStartMove(e,-1)},positionStyle={};switch(direction){case"rtl":positionStyle.right="".concat(100*offsetStart,"%"),positionStyle.width="".concat(100*offsetEnd-100*offsetStart,"%");break;case"btt":positionStyle.bottom="".concat(100*offsetStart,"%"),positionStyle.height="".concat(100*offsetEnd-100*offsetStart,"%");break;case"ttb":positionStyle.top="".concat(100*offsetStart,"%"),positionStyle.height="".concat(100*offsetEnd-100*offsetStart,"%");break;default:positionStyle.left="".concat(100*offsetStart,"%"),positionStyle.width="".concat(100*offsetEnd-100*offsetStart,"%")}var className=replaceCls||classnames_default()(trackPrefixCls,(0,defineProperty.A)((0,defineProperty.A)({},"".concat(trackPrefixCls,"-").concat(index+1),null!==index&&range),"".concat(prefixCls,"-track-draggable"),onStartMove),classNames.track);return react.createElement("div",{className,style:(0,objectSpread2.A)((0,objectSpread2.A)({},positionStyle),style),onMouseDown:onInternalStartMove,onTouchStart:onInternalStartMove})};const es_Tracks=function Tracks(props){var prefixCls=props.prefixCls,style=props.style,values=props.values,startPoint=props.startPoint,onStartMove=props.onStartMove,_React$useContext=react.useContext(es_context),included=_React$useContext.included,range=_React$useContext.range,min=_React$useContext.min,styles=_React$useContext.styles,classNames=_React$useContext.classNames,trackList=react.useMemo((function(){if(!range){if(0===values.length)return[];var startValue=null!=startPoint?startPoint:min,endValue=values[0];return[{start:Math.min(startValue,endValue),end:Math.max(startValue,endValue)}]}for(var list=[],i=0;i<values.length-1;i+=1)list.push({start:values[i],end:values[i+1]});return list}),[values,range,startPoint,min]);if(!included)return null;var tracksNode=classNames.tracks||styles.tracks?react.createElement(Tracks_Track,{index:null,prefixCls,start:trackList[0].start,end:trackList[trackList.length-1].end,replaceCls:classnames_default()(classNames.tracks,"".concat(prefixCls,"-tracks")),style:styles.tracks}):null;return react.createElement(react.Fragment,null,tracksNode,trackList.map((function(_ref,index){var start=_ref.start,end=_ref.end;return react.createElement(Tracks_Track,{index,prefixCls,style:(0,objectSpread2.A)((0,objectSpread2.A)({},getIndex(style,index)),styles.track),start,end,key:index,onStartMove})})))};function getPosition(e){var obj="touches"in e?e.touches[0]:e;return{pageX:obj.pageX,pageY:obj.pageY}}const hooks_useDrag=function useDrag(containerRef,direction,rawValues,min,max,formatValue,triggerChange,finishChange,offsetValues,editable,minCount){var _React$useState=react.useState(null),_React$useState2=(0,slicedToArray.A)(_React$useState,2),draggingValue=_React$useState2[0],setDraggingValue=_React$useState2[1],_React$useState3=react.useState(-1),_React$useState4=(0,slicedToArray.A)(_React$useState3,2),draggingIndex=_React$useState4[0],setDraggingIndex=_React$useState4[1],_React$useState5=react.useState(!1),_React$useState6=(0,slicedToArray.A)(_React$useState5,2),draggingDelete=_React$useState6[0],setDraggingDelete=_React$useState6[1],_React$useState7=react.useState(rawValues),_React$useState8=(0,slicedToArray.A)(_React$useState7,2),cacheValues=_React$useState8[0],setCacheValues=_React$useState8[1],_React$useState9=react.useState(rawValues),_React$useState10=(0,slicedToArray.A)(_React$useState9,2),originValues=_React$useState10[0],setOriginValues=_React$useState10[1],mouseMoveEventRef=react.useRef(null),mouseUpEventRef=react.useRef(null),_React$useContext=react.useContext(UnstableContext),onDragStart=_React$useContext.onDragStart,onDragChange=_React$useContext.onDragChange;react.useLayoutEffect((function(){-1===draggingIndex&&setCacheValues(rawValues)}),[rawValues,draggingIndex]),react.useEffect((function(){return function(){document.removeEventListener("mousemove",mouseMoveEventRef.current),document.removeEventListener("mouseup",mouseUpEventRef.current),document.removeEventListener("touchmove",mouseMoveEventRef.current),document.removeEventListener("touchend",mouseUpEventRef.current)}}),[]);var flushValues=function flushValues(nextValues,nextValue,deleteMark){void 0!==nextValue&&setDraggingValue(nextValue),setCacheValues(nextValues);var changeValues=nextValues;deleteMark&&(changeValues=nextValues.filter((function(_,i){return i!==draggingIndex}))),triggerChange(changeValues),onDragChange&&onDragChange({rawValues:nextValues,deleteIndex:deleteMark?draggingIndex:-1,draggingIndex,draggingValue:nextValue})},updateCacheValue=(0,es.useEvent)((function(valueIndex,offsetPercent,deleteMark){if(-1===valueIndex){var startValue=originValues[0],endValue=originValues[originValues.length-1],maxStartOffset=min-startValue,maxEndOffset=max-endValue,offset=offsetPercent*(max-min);offset=Math.max(offset,maxStartOffset),offset=Math.min(offset,maxEndOffset);var formatStartValue=formatValue(startValue+offset);offset=formatStartValue-startValue;var cloneCacheValues=originValues.map((function(val){return val+offset}));flushValues(cloneCacheValues)}else{var offsetDist=(max-min)*offsetPercent,cloneValues=(0,toConsumableArray.A)(cacheValues);cloneValues[valueIndex]=originValues[valueIndex];var next=offsetValues(cloneValues,offsetDist,valueIndex,"dist");flushValues(next.values,next.value,deleteMark)}})),returnValues=react.useMemo((function(){var sourceValues=(0,toConsumableArray.A)(rawValues).sort((function(a,b){return a-b})),targetValues=(0,toConsumableArray.A)(cacheValues).sort((function(a,b){return a-b})),counts={};targetValues.forEach((function(val){counts[val]=(counts[val]||0)+1})),sourceValues.forEach((function(val){counts[val]=(counts[val]||0)-1}));var maxDiffCount=editable?1:0;return Object.values(counts).reduce((function(prev,next){return prev+Math.abs(next)}),0)<=maxDiffCount?cacheValues:rawValues}),[rawValues,cacheValues,editable]);return[draggingIndex,draggingValue,draggingDelete,returnValues,function onStartMove(e,valueIndex,startValues){e.stopPropagation();var initialValues=startValues||rawValues,originValue=initialValues[valueIndex];setDraggingIndex(valueIndex),setDraggingValue(originValue),setOriginValues(initialValues),setCacheValues(initialValues),setDraggingDelete(!1);var _getPosition=getPosition(e),startX=_getPosition.pageX,startY=_getPosition.pageY,deleteMark=!1;onDragStart&&onDragStart({rawValues:initialValues,draggingIndex:valueIndex,draggingValue:originValue});var onMouseMove=function onMouseMove(event){event.preventDefault();var offSetPercent,removeDist,_getPosition2=getPosition(event),moveX=_getPosition2.pageX,moveY=_getPosition2.pageY,offsetX=moveX-startX,offsetY=moveY-startY,_containerRef$current=containerRef.current.getBoundingClientRect(),width=_containerRef$current.width,height=_containerRef$current.height;switch(direction){case"btt":offSetPercent=-offsetY/height,removeDist=offsetX;break;case"ttb":offSetPercent=offsetY/height,removeDist=offsetX;break;case"rtl":offSetPercent=-offsetX/width,removeDist=offsetY;break;default:offSetPercent=offsetX/width,removeDist=offsetY}deleteMark=!!editable&&(Math.abs(removeDist)>130&&minCount<cacheValues.length),setDraggingDelete(deleteMark),updateCacheValue(valueIndex,offSetPercent,deleteMark)},onMouseUp=function onMouseUp(event){event.preventDefault(),document.removeEventListener("mouseup",onMouseUp),document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("touchend",onMouseUp),document.removeEventListener("touchmove",onMouseMove),mouseMoveEventRef.current=null,mouseUpEventRef.current=null,finishChange(deleteMark),setDraggingIndex(-1),setDraggingDelete(!1)};document.addEventListener("mouseup",onMouseUp),document.addEventListener("mousemove",onMouseMove),document.addEventListener("touchend",onMouseUp),document.addEventListener("touchmove",onMouseMove),mouseMoveEventRef.current=onMouseMove,mouseUpEventRef.current=onMouseUp}]};const rc_slider_es=react.forwardRef((function(props,ref){var _props$prefixCls=props.prefixCls,prefixCls=void 0===_props$prefixCls?"rc-slider":_props$prefixCls,className=props.className,style=props.style,classNames=props.classNames,styles=props.styles,_props$disabled=props.disabled,disabled=void 0!==_props$disabled&&_props$disabled,_props$keyboard=props.keyboard,keyboard=void 0===_props$keyboard||_props$keyboard,autoFocus=props.autoFocus,onFocus=props.onFocus,onBlur=props.onBlur,_props$min=props.min,min=void 0===_props$min?0:_props$min,_props$max=props.max,max=void 0===_props$max?100:_props$max,_props$step=props.step,step=void 0===_props$step?1:_props$step,value=props.value,defaultValue=props.defaultValue,range=props.range,count=props.count,onChange=props.onChange,onBeforeChange=props.onBeforeChange,onAfterChange=props.onAfterChange,onChangeComplete=props.onChangeComplete,_props$allowCross=props.allowCross,allowCross=void 0===_props$allowCross||_props$allowCross,_props$pushable=props.pushable,pushable=void 0!==_props$pushable&&_props$pushable,reverse=props.reverse,vertical=props.vertical,_props$included=props.included,included=void 0===_props$included||_props$included,startPoint=props.startPoint,trackStyle=props.trackStyle,handleStyle=props.handleStyle,railStyle=props.railStyle,dotStyle=props.dotStyle,activeDotStyle=props.activeDotStyle,marks=props.marks,dots=props.dots,handleRender=props.handleRender,activeHandleRender=props.activeHandleRender,track=props.track,_props$tabIndex=props.tabIndex,tabIndex=void 0===_props$tabIndex?0:_props$tabIndex,ariaLabelForHandle=props.ariaLabelForHandle,ariaLabelledByForHandle=props.ariaLabelledByForHandle,ariaValueTextFormatterForHandle=props.ariaValueTextFormatterForHandle,handlesRef=react.useRef(null),containerRef=react.useRef(null),direction=react.useMemo((function(){return vertical?reverse?"ttb":"btt":reverse?"rtl":"ltr"}),[reverse,vertical]),_useRange=function useRange(range){return(0,react.useMemo)((function(){if(!0===range||!range)return[!!range,!1,!1,0];var editable=range.editable,draggableTrack=range.draggableTrack;return[!0,editable,!editable&&draggableTrack,range.minCount||0,range.maxCount]}),[range])}(range),_useRange2=(0,slicedToArray.A)(_useRange,5),rangeEnabled=_useRange2[0],rangeEditable=_useRange2[1],rangeDraggableTrack=_useRange2[2],minCount=_useRange2[3],maxCount=_useRange2[4],mergedMin=react.useMemo((function(){return isFinite(min)?min:0}),[min]),mergedMax=react.useMemo((function(){return isFinite(max)?max:100}),[max]),mergedStep=react.useMemo((function(){return null!==step&&step<=0?1:step}),[step]),mergedPush=react.useMemo((function(){return"boolean"==typeof pushable?!!pushable&&mergedStep:pushable>=0&&pushable}),[pushable,mergedStep]),markList=react.useMemo((function(){return Object.keys(marks||{}).map((function(key){var mark=marks[key],markObj={value:Number(key)};return mark&&"object"===(0,esm_typeof.A)(mark)&&!react.isValidElement(mark)&&("label"in mark||"style"in mark)?(markObj.style=mark.style,markObj.label=mark.label):markObj.label=mark,markObj})).filter((function(_ref){var label=_ref.label;return label||"number"==typeof label})).sort((function(a,b){return a.value-b.value}))}),[marks]),_useOffset=function useOffset(min,max,step,markList,allowCross,pushable){var formatRangeValue=react.useCallback((function(val){return Math.max(min,Math.min(max,val))}),[min,max]),formatStepValue=react.useCallback((function(val){if(null!==step){var stepValue=min+Math.round((formatRangeValue(val)-min)/step)*step,getDecimal=function getDecimal(num){return(String(num).split(".")[1]||"").length},maxDecimal=Math.max(getDecimal(step),getDecimal(max),getDecimal(min)),fixedValue=Number(stepValue.toFixed(maxDecimal));return min<=fixedValue&&fixedValue<=max?fixedValue:null}return null}),[step,min,max,formatRangeValue]),formatValue=react.useCallback((function(val){var formatNextValue=formatRangeValue(val),alignValues=markList.map((function(mark){return mark.value}));null!==step&&alignValues.push(formatStepValue(val)),alignValues.push(min,max);var closeValue=alignValues[0],closeDist=max-min;return alignValues.forEach((function(alignValue){var dist=Math.abs(formatNextValue-alignValue);dist<=closeDist&&(closeValue=alignValue,closeDist=dist)})),closeValue}),[min,max,markList,step,formatRangeValue,formatStepValue]),offsetValue=function offsetValue(values,offset,valueIndex){var mode=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof offset){var nextValue,originValue=values[valueIndex],targetDistValue=originValue+offset,potentialValues=[];markList.forEach((function(mark){potentialValues.push(mark.value)})),potentialValues.push(min,max),potentialValues.push(formatStepValue(originValue));var sign=offset>0?1:-1;"unit"===mode?potentialValues.push(formatStepValue(originValue+sign*step)):potentialValues.push(formatStepValue(targetDistValue)),potentialValues=potentialValues.filter((function(val){return null!==val})).filter((function(val){return offset<0?val<=originValue:val>=originValue})),"unit"===mode&&(potentialValues=potentialValues.filter((function(val){return val!==originValue})));var compareValue="unit"===mode?originValue:targetDistValue;nextValue=potentialValues[0];var valueDist=Math.abs(nextValue-compareValue);if(potentialValues.forEach((function(potentialValue){var dist=Math.abs(potentialValue-compareValue);dist<valueDist&&(nextValue=potentialValue,valueDist=dist)})),void 0===nextValue)return offset<0?min:max;if("dist"===mode)return nextValue;if(Math.abs(offset)>1){var cloneValues=(0,toConsumableArray.A)(values);return cloneValues[valueIndex]=nextValue,offsetValue(cloneValues,offset-sign,valueIndex,mode)}return nextValue}return"min"===offset?min:"max"===offset?max:void 0},offsetChangedValue=function offsetChangedValue(values,offset,valueIndex){var mode=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",originValue=values[valueIndex],nextValue=offsetValue(values,offset,valueIndex,mode);return{value:nextValue,changed:nextValue!==originValue}},needPush=function needPush(dist){return null===pushable&&0===dist||"number"==typeof pushable&&dist<pushable};return[formatValue,function offsetValues(values,offset,valueIndex){var mode=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",nextValues=values.map(formatValue),originValue=nextValues[valueIndex],nextValue=offsetValue(nextValues,offset,valueIndex,mode);if(nextValues[valueIndex]=nextValue,!1===allowCross){var pushNum=pushable||0;valueIndex>0&&nextValues[valueIndex-1]!==originValue&&(nextValues[valueIndex]=Math.max(nextValues[valueIndex],nextValues[valueIndex-1]+pushNum)),valueIndex<nextValues.length-1&&nextValues[valueIndex+1]!==originValue&&(nextValues[valueIndex]=Math.min(nextValues[valueIndex],nextValues[valueIndex+1]-pushNum))}else if("number"==typeof pushable||null===pushable){for(var i=valueIndex+1;i<nextValues.length;i+=1)for(var changed=!0;needPush(nextValues[i]-nextValues[i-1])&&changed;){var _offsetChangedValue=offsetChangedValue(nextValues,1,i);nextValues[i]=_offsetChangedValue.value,changed=_offsetChangedValue.changed}for(var _i=valueIndex;_i>0;_i-=1)for(var _changed=!0;needPush(nextValues[_i]-nextValues[_i-1])&&_changed;){var _offsetChangedValue2=offsetChangedValue(nextValues,-1,_i-1);nextValues[_i-1]=_offsetChangedValue2.value,_changed=_offsetChangedValue2.changed}for(var _i2=nextValues.length-1;_i2>0;_i2-=1)for(var _changed2=!0;needPush(nextValues[_i2]-nextValues[_i2-1])&&_changed2;){var _offsetChangedValue3=offsetChangedValue(nextValues,-1,_i2-1);nextValues[_i2-1]=_offsetChangedValue3.value,_changed2=_offsetChangedValue3.changed}for(var _i3=0;_i3<nextValues.length-1;_i3+=1)for(var _changed3=!0;needPush(nextValues[_i3+1]-nextValues[_i3])&&_changed3;){var _offsetChangedValue4=offsetChangedValue(nextValues,1,_i3+1);nextValues[_i3+1]=_offsetChangedValue4.value,_changed3=_offsetChangedValue4.changed}}return{value:nextValues[valueIndex],values:nextValues}}]}(mergedMin,mergedMax,mergedStep,markList,allowCross,mergedPush),_useOffset2=(0,slicedToArray.A)(_useOffset,2),formatValue=_useOffset2[0],offsetValues=_useOffset2[1],_useMergedState=(0,useMergedState.A)(defaultValue,{value}),_useMergedState2=(0,slicedToArray.A)(_useMergedState,2),mergedValue=_useMergedState2[0],setValue=_useMergedState2[1],rawValues=react.useMemo((function(){var valueList=null==mergedValue?[]:Array.isArray(mergedValue)?mergedValue:[mergedValue],_valueList$=(0,slicedToArray.A)(valueList,1)[0],returnValues=null===mergedValue?[]:[void 0===_valueList$?mergedMin:_valueList$];if(rangeEnabled){if(returnValues=(0,toConsumableArray.A)(valueList),count||void 0===mergedValue){var pointCount=count>=0?count+1:2;for(returnValues=returnValues.slice(0,pointCount);returnValues.length<pointCount;){var _returnValues;returnValues.push(null!==(_returnValues=returnValues[returnValues.length-1])&&void 0!==_returnValues?_returnValues:mergedMin)}}returnValues.sort((function(a,b){return a-b}))}return returnValues.forEach((function(val,index){returnValues[index]=formatValue(val)})),returnValues}),[mergedValue,rangeEnabled,mergedMin,count,formatValue]),getTriggerValue=function getTriggerValue(triggerValues){return rangeEnabled?triggerValues:triggerValues[0]},triggerChange=(0,es.useEvent)((function(nextValues){var cloneNextValues=(0,toConsumableArray.A)(nextValues).sort((function(a,b){return a-b}));onChange&&!(0,isEqual.A)(cloneNextValues,rawValues,!0)&&onChange(getTriggerValue(cloneNextValues)),setValue(cloneNextValues)})),finishChange=(0,es.useEvent)((function(draggingDelete){draggingDelete&&handlesRef.current.hideHelp();var finishValue=getTriggerValue(rawValues);null==onAfterChange||onAfterChange(finishValue),(0,warning.Ay)(!onAfterChange,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==onChangeComplete||onChangeComplete(finishValue)})),_useDrag=hooks_useDrag(containerRef,direction,rawValues,mergedMin,mergedMax,formatValue,triggerChange,finishChange,offsetValues,rangeEditable,minCount),_useDrag2=(0,slicedToArray.A)(_useDrag,5),draggingIndex=_useDrag2[0],draggingValue=_useDrag2[1],draggingDelete=_useDrag2[2],cacheValues=_useDrag2[3],onStartDrag=_useDrag2[4],changeToCloseValue=function changeToCloseValue(newValue,e){if(!disabled){var cloneNextValues=(0,toConsumableArray.A)(rawValues),valueIndex=0,valueBeforeIndex=0,valueDist=mergedMax-mergedMin;rawValues.forEach((function(val,index){var dist=Math.abs(newValue-val);dist<=valueDist&&(valueDist=dist,valueIndex=index),val<newValue&&(valueBeforeIndex=index)}));var focusIndex=valueIndex;rangeEditable&&0!==valueDist&&(!maxCount||rawValues.length<maxCount)?(cloneNextValues.splice(valueBeforeIndex+1,0,newValue),focusIndex=valueBeforeIndex+1):cloneNextValues[valueIndex]=newValue,rangeEnabled&&!rawValues.length&&void 0===count&&cloneNextValues.push(newValue);var _document$activeEleme,_document$activeEleme2,nextValue=getTriggerValue(cloneNextValues);if(null==onBeforeChange||onBeforeChange(nextValue),triggerChange(cloneNextValues),e)null===(_document$activeEleme=document.activeElement)||void 0===_document$activeEleme||null===(_document$activeEleme2=_document$activeEleme.blur)||void 0===_document$activeEleme2||_document$activeEleme2.call(_document$activeEleme),handlesRef.current.focus(focusIndex),onStartDrag(e,focusIndex,cloneNextValues);else null==onAfterChange||onAfterChange(nextValue),(0,warning.Ay)(!onAfterChange,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==onChangeComplete||onChangeComplete(nextValue)}},_React$useState=react.useState(null),_React$useState2=(0,slicedToArray.A)(_React$useState,2),keyboardValue=_React$useState2[0],setKeyboardValue=_React$useState2[1];react.useEffect((function(){if(null!==keyboardValue){var valueIndex=rawValues.indexOf(keyboardValue);valueIndex>=0&&handlesRef.current.focus(valueIndex)}setKeyboardValue(null)}),[keyboardValue]);var mergedDraggableTrack=react.useMemo((function(){return(!rangeDraggableTrack||null!==mergedStep)&&rangeDraggableTrack}),[rangeDraggableTrack,mergedStep]),onStartMove=(0,es.useEvent)((function(e,valueIndex){onStartDrag(e,valueIndex),null==onBeforeChange||onBeforeChange(getTriggerValue(rawValues))})),dragging=-1!==draggingIndex;react.useEffect((function(){if(!dragging){var valueIndex=rawValues.lastIndexOf(draggingValue);handlesRef.current.focus(valueIndex)}}),[dragging]);var sortedCacheValues=react.useMemo((function(){return(0,toConsumableArray.A)(cacheValues).sort((function(a,b){return a-b}))}),[cacheValues]),_React$useMemo=react.useMemo((function(){return rangeEnabled?[sortedCacheValues[0],sortedCacheValues[sortedCacheValues.length-1]]:[mergedMin,sortedCacheValues[0]]}),[sortedCacheValues,rangeEnabled,mergedMin]),_React$useMemo2=(0,slicedToArray.A)(_React$useMemo,2),includedStart=_React$useMemo2[0],includedEnd=_React$useMemo2[1];react.useImperativeHandle(ref,(function(){return{focus:function focus(){handlesRef.current.focus(0)},blur:function blur(){var _containerRef$current2,activeElement=document.activeElement;null!==(_containerRef$current2=containerRef.current)&&void 0!==_containerRef$current2&&_containerRef$current2.contains(activeElement)&&(null==activeElement||activeElement.blur())}}})),react.useEffect((function(){autoFocus&&handlesRef.current.focus(0)}),[]);var context=react.useMemo((function(){return{min:mergedMin,max:mergedMax,direction,disabled,keyboard,step:mergedStep,included,includedStart,includedEnd,range:rangeEnabled,tabIndex,ariaLabelForHandle,ariaLabelledByForHandle,ariaValueTextFormatterForHandle,styles:styles||{},classNames:classNames||{}}}),[mergedMin,mergedMax,direction,disabled,keyboard,mergedStep,included,includedStart,includedEnd,rangeEnabled,tabIndex,ariaLabelForHandle,ariaLabelledByForHandle,ariaValueTextFormatterForHandle,styles,classNames]);return react.createElement(es_context.Provider,{value:context},react.createElement("div",{ref:containerRef,className:classnames_default()(prefixCls,className,(0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)((0,defineProperty.A)({},"".concat(prefixCls,"-disabled"),disabled),"".concat(prefixCls,"-vertical"),vertical),"".concat(prefixCls,"-horizontal"),!vertical),"".concat(prefixCls,"-with-marks"),markList.length)),style,onMouseDown:function onSliderMouseDown(e){e.preventDefault();var percent,_containerRef$current=containerRef.current.getBoundingClientRect(),width=_containerRef$current.width,height=_containerRef$current.height,left=_containerRef$current.left,top=_containerRef$current.top,bottom=_containerRef$current.bottom,right=_containerRef$current.right,clientX=e.clientX,clientY=e.clientY;switch(direction){case"btt":percent=(bottom-clientY)/height;break;case"ttb":percent=(clientY-top)/height;break;case"rtl":percent=(right-clientX)/width;break;default:percent=(clientX-left)/width}changeToCloseValue(formatValue(mergedMin+percent*(mergedMax-mergedMin)),e)}},react.createElement("div",{className:classnames_default()("".concat(prefixCls,"-rail"),null==classNames?void 0:classNames.rail),style:(0,objectSpread2.A)((0,objectSpread2.A)({},railStyle),null==styles?void 0:styles.rail)}),!1!==track&&react.createElement(es_Tracks,{prefixCls,style:trackStyle,values:rawValues,startPoint,onStartMove:mergedDraggableTrack?onStartMove:void 0}),react.createElement(es_Steps,{prefixCls,marks:markList,dots,style:dotStyle,activeStyle:activeDotStyle}),react.createElement(es_Handles,{ref:handlesRef,prefixCls,style:handleStyle,values:cacheValues,draggingIndex,draggingDelete,onStartMove,onOffsetChange:function onHandleOffsetChange(offset,valueIndex){if(!disabled){var next=offsetValues(rawValues,offset,valueIndex);null==onBeforeChange||onBeforeChange(getTriggerValue(rawValues)),triggerChange(next.values),setKeyboardValue(next.value)}},onFocus,onBlur,handleRender,activeHandleRender,onChangeComplete:finishChange,onDelete:rangeEditable?function onDelete(index){if(!(disabled||!rangeEditable||rawValues.length<=minCount)){var cloneNextValues=(0,toConsumableArray.A)(rawValues);cloneNextValues.splice(index,1),null==onBeforeChange||onBeforeChange(getTriggerValue(cloneNextValues)),triggerChange(cloneNextValues);var nextFocusIndex=Math.max(0,index-1);handlesRef.current.hideHelp(),handlesRef.current.focus(nextFocusIndex)}}:void 0}),react.createElement(es_Marks,{prefixCls,marks:markList,onClick:changeToCloseValue})))}))}}]);